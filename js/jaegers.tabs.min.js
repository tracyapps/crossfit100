/*
 * Jaegers Tabs v1.3.3
 * Copyright (c) 2013 Alex K.
 * http://jaegers-ui.com/
 */
(function(n){var e=n.Jaegers,q=n.document;e.fn.jTabs=function(w){var d=e.merge({active:0,remember:!0,nesting:!1,marker:!1,vertical:!1,ratio:25,breakpoint:320,anchors:!1,outside:!1,mobinav:!1,next:"&#8675;",prev:"&#8673",event:"click",toolkey:82,fx:{duration:0.3,timing:"ease-in-out",acceleration:1.7,fps:50,transform:!1}},w),g=d.fx,r=d.vertical?" ymode":" xmode",x=g?g.duration+"s "+g.timing.replace("-back",""):"",t={create:function(a,b,c){var h,f=0,k,l=e.cookie("jTabs "+a.id),l=d.remember&&l?Number(l):
b.get?b.get.active:d.active;a.add("class","jtabs"+r).prepend("div").set("class","back");d.marker&&(h=a.append("div").set("class","mark").style(e.css.transform,"rotate(45deg)"));b.each(function(a,b){var h=e(this);h.bridge(function(c){0===a?c.add("class","first"):a===b.length-1&&c.add("class","last");return c}).add("class","pane").first().add("class","head").bridge(function(a){d.mobinav&&(k=a.find(".jtabs-mobi"),k.context&&k.subtract());return a}).children("nodes").wrapAll("a").set("href","#").style(e.css.transition,
g?x:"0s").parent().nextAll("nodes").wrapAll("div").set("class","body").style("top",d.vertical?"":h.height()+"px").style(g.transform,0).hide();c||(f+=h.width())}).eq(b.eq(l).context?l:0).add("class","active").last().style(g.transform,1).show();c||(b.get={active:b.eq(l).context?l:0,width:f},d.vertical&&m.width(a,b),p.handle(a,b));m.handle(a,b,h,!0)},remove:function(a){d.marker&&a.last().subtract();a.stop().reset("style").remove("class","jtabs"+r).subtract(".back").children().each(function(a,c){e(this).reset("style").remove("class",
"pane active first last").first().remove("class","head").first().children("nodes").unwrapAll().bridge(function(h){if(d.mobinav){var f=c[a-1]?c[a-1].id:null,e=c[a+1]?c[a+1].id:null,g=h.eq(0).parent().find(".jtabs-mobi").context;f&&e&&!g?h.eq(0).parent().append("span").set("class","jtabs-mobi").append("a").set({"class":"prev",href:"#"+f}).text(d.prev).after("a").set({"class":"next",href:"#"+e}).text(d.next):f&&!g?h.eq(0).parent().append("span").set("class","jtabs-mobi").append("a").set({"class":"prev",
href:"#"+f}).text(d.prev):e&&!g&&h.eq(0).parent().append("span").set("class","jtabs-mobi").append("a").set({"class":"next",href:"#"+e}).text(d.next)}return h}).eq(0).parent().next().stop().children("nodes").unwrapAll()})},handle:function(a,b,c){a.has("class","jtabs")||(this.create(a,b,c),a.on(d.event,function(c){s.handle(c,a,b,d.marker?a.last():!1)}));a.has("class","jtabs")&&(d.vertical?e.isMAX(d.breakpoint):e.isMAX(d.breakpoint)||a.width()<=b.get.width)&&this.remove(a.on(d.event,null))}},m={width:function(a,
b){var c=a.has("class","flip"),h=e.isRTL(),f=100-d.ratio+"%",g=0,l=h&&c?d.ratio+"%":h||c?"":d.ratio+"%",m=h&&c?"":h||c?d.ratio+"%":"";a.first().style({left:l,right:m});b.each(function(){var a=e(this);a.style({width:d.ratio+"%",marginRight:h&&c?f:"",marginLeft:!h&&c?f:""}).last().style({left:l,right:m});g+=a.height()});b.get.height=g},height:function(a){var b=a.eq(a.get.active).first(),c=b.next();return d.vertical?c.height()>a.get.height?c.height():a.get.height:b.height()+c.height()},content:function(a,
b){var c=a.first(),e=b.eq(b.get.active);d.vertical||(c.style("top",e.computed("height",!0)-c.computed("borderTopWidth",!0)+"px"),e.last().style("top",e.height()+"px"))},marker:function(a,b,c){a=a.has("class","flip");var d=e.isRTL();b=b.eq(b.get.active);return{x:{top:b.first().height()-c.height()/2-c.computed("borderTopWidth",!0)+"px",left:b.width()/2-c.width()/2+b.left()+"px"},y:{top:b.first().height()/2-c.height()/2+b.first().top()+"px",left:d&&a?b.width()-c.width()/2+"px":d||a?b.last().width()-
c.width()/2+"px":b.width()-c.width()/2+"px"}}},check:function(a,b,c){parseFloat(a.style("height"))!==m.height(b)&&m.handle(a,b,c)},handle:function(a,b,c,e){var f=d.vertical?"y":"x",k=arguments;a.has("class","jtabs")&&(e||!g?(a.style("height",this.height(b)+"px"),d.vertical&&this.width.apply(null,k),d.marker&&c.style(this.marker.apply(null,k)[f])):(a.animate("height",this.height(b),g,function(){m.check.apply(null,k);d.nesting&&n.setTimeout(function(){m.check.apply(null,k)},1E3*g.duration)}),d.marker&&
c.animate(this.marker.apply(null,k)[f],g)),this.content.apply(null,k))}},u=function(){var a=n.navigator.userAgent,b=a.indexOf("IE");return-1<b&&"execScript"in n?a.substr(b+3,2)>>>0:!1}(),p={resize:function(a,b,c){u&&(9>u&&"resize"===a.type)&&v===e.viewport("x")||(v=e.viewport("x"),m.handle(b,c,d.marker?b.last():!1),t.handle(b,c,!0))},anchors:function(a,b,c,h){var f=e(a.target||a.srcElement),f=h?h:"load"===a.type?null:f.has("href");h=b.has("class","jtabs");var k;if(f&&/#\w/.test(f)){f=e(f);k=c.of(f);
if(-1!==k)h&&s.handle(a,b,c,d.marker?b.last():!1,k),e.scrollTo(d.vertical&&h?f.parent():f,g);else if(f.context&&f.parent().has("class","jtabs"))for(f.find(".head a").trigger(d.event),e.scrollTo(f.parent().has("class","ymode")?f.parent():f,g),b=f.parent();!b.name("body");)b=b.parent(),b.parent().has("class","jtabs")&&b.find(".head a").trigger(d.event);else e.scrollTo(f,g);e(a).prevent()}},toolkey:function(a,b,c){(a.keyCode||a.which)===d.toolkey&&m.handle(b,c,d.marker?b.last():!1,!0)},handle:function(a,
b){e(n).bind("load resize hashchange",function(c){if("load"===c.type||"hashchange"===c.type)a.context.scrollTop=0,p.anchors(c,a,b,n.location.hash.split("?")[0]);p.resize(c,a,b)});d.anchors&&e(d.outside?q:a.context).bind("click",function(c){p.anchors(c,a,b)});"number"===typeof d.toolkey&&e(q).bind("keyup",function(c){p.toolkey(c,a,b)})}},v,s={media:function(a){a.each(function(){-1!==this.src.indexOf("jsapi=1")?this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"):
-1!==this.src.indexOf("api=1")&&this.contentWindow.postMessage('{"method":"pause","value":""}',this.src.split("?")[0])})},handle:function(a,b,c,h,f){var k=c.get.active,l=c.eq(k).findAll("iframe");"undefined"===typeof f&&(f=e(a.target||a.srcElement),f.parent().name("a")&&(f=f.parent()),f=c.of(f.parent().parent()));-1!==f&&(f!==k&&(c.eq(k).remove("class","active").last().animate(g.transform,0,g).hide(g),c.eq(f).add("class","active").last().animate(g.transform,1,g).show(g),c.get.active=f,d.remember&&
e.cookie({name:"jTabs "+b.id,value:f}),this.media(l)),e(a).prevent());m.handle(b,c,h)}};return this.each(function(a){a=e(this);-1===e(e.ui.tabs).of(this)&&(e.ui.tabs.push(this),a.id=e(e.ui.tabs).of(this),d.remember&&!e.cookie("jTabs "+a.id)&&e.cookie({name:"jTabs "+a.id,value:d.active}),t.handle(a,a.children()))})}})(this);
